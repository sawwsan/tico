/*! Max Mega Menu jQuery Plugin */(function(a){"use strict";a.maxmegamenu=function(f,j){var b=this,c=a(f),e=c.siblings(".mega-menu-toggle"),i={event:c.attr("data-event"),effect:c.attr("data-effect"),effect_speed:parseInt(c.attr("data-effect-speed")),effect_mobile:c.attr("data-effect-mobile"),effect_speed_mobile:parseInt(c.attr("data-effect-speed-mobile")),panel_width:c.attr("data-panel-width"),panel_inner_width:c.attr("data-panel-inner-width"),mobile_force_width:c.attr("data-mobile-force-width"),mobile_overlay:c.attr("data-mobile-overlay"),mobile_state:c.attr("data-mobile-state"),second_click:c.attr("data-second-click"),vertical_behaviour:c.attr("data-vertical-behaviour"),document_click:c.attr("data-document-click"),breakpoint:c.attr("data-breakpoint"),unbind_events:c.attr("data-unbind"),hover_intent_timeout:c.attr("data-hover-intent-timeout"),hover_intent_interval:c.attr("data-hover-intent-interval")},h,d,g;b.settings={},d=a("li.mega-menu-megamenu.mega-menu-item-has-children,li.mega-menu-flyout.mega-menu-item-has-children,li.mega-menu-tabbed > ul.mega-sub-menu > li.mega-menu-item-has-children,li.mega-menu-flyout li.mega-menu-item-has-children",f),g=a("li.mega-menu-megamenu li.mega-menu-item-has-children.mega-collapse-children > a.mega-menu-link",f),b.addAnimatingClass=function(c){if(b.settings.effect==="disabled")return;a(".mega-animating").removeClass("mega-animating");var d=b.settings.effect_speed+parseInt(megamenu.timeout,10);c.addClass("mega-animating"),setTimeout(function(){c.removeClass("mega-animating")},d)},b.hideAllPanels=function(){a(".mega-toggle-on > a.mega-menu-link",c).each(function(){b.hidePanel(a(this),!1)})},b.expandMobileSubMenus=function(){a(".mega-menu-item-has-children.mega-expand-on-mobile > a.mega-menu-link",c).each(function(){b.showPanel(a(this))}),b.settings.mobile_state=='expand_all'&&a(".mega-menu-item-has-children > a.mega-menu-link",c).each(function(){b.showPanel(a(this))}),b.settings.mobile_state=='expand_active'&&a("li.mega-current-menu-ancestor.mega-menu-item-has-children > a.mega-menu-link,li.mega-current-menu-item.mega-menu-item-has-children > a.mega-menu-linkli.mega-current-menu-parent.mega-menu-item-has-children > a.mega-menu-linkli.mega-current_page_ancestor.mega-menu-item-has-children > a.mega-menu-linkli.mega-current_page_item.mega-menu-item-has-children > a.mega-menu-link",c).each(function(){b.showPanel(a(this))})},b.hideSiblingPanels=function(c,d){c.parent().parent().find(".mega-toggle-on").children("a.mega-menu-link").each(function(){b.hidePanel(a(this),d)})},b.isDesktopView=function(){return Math.max(window.outerWidth,a(window).width())>b.settings.breakpoint},b.isMobileView=function(){return!b.isDesktopView()},b.showPanel=function(d){if(d.parent().triggerHandler("before_open_panel"),d.attr("aria-expanded","true"),a(".mega-animating").removeClass("mega-animating"),b.isMobileView()&&d.parent().hasClass("mega-hide-sub-menu-on-mobile"))return;if(b.isDesktopView()&&(c.hasClass("mega-menu-horizontal")||c.hasClass("mega-menu-vertical"))&&!d.parent().hasClass("mega-collapse-children")&&b.hideSiblingPanels(d,!0),(b.isMobileView()&&c.hasClass("mega-keyboard-navigation")||b.settings.vertical_behaviour==="accordion")&&b.hideSiblingPanels(d,!1),b.calculateDynamicSubmenuWidths(d),d.parent().hasClass("mega-collapse-children")||b.settings.effect==="slide"||b.isMobileView()&&(b.settings.effect_mobile==="slide"||b.settings.effect_mobile==="slide_left"||b.settings.effect_mobile==="slide_right")){var e=b.isMobileView()?b.settings.effect_speed_mobile:b.settings.effect_speed;d.siblings(".mega-sub-menu").css("display","none").animate({height:"show",paddingTop:"show",paddingBottom:"show",minHeight:"show"},e,function(){a(this).css("display","")})}d.parent().addClass("mega-toggle-on").triggerHandler("open_panel")},b.hidePanel=function(c,d){if(c.parent().triggerHandler("before_close_panel"),c.attr("aria-expanded","false"),c.parent().hasClass("mega-collapse-children")||!d&&b.settings.effect==="slide"||b.isMobileView()&&(b.settings.effect_mobile==="slide"||b.settings.effect_mobile==="slide_left"||b.settings.effect_mobile==="slide_right")){var e=b.isMobileView()?b.settings.effect_speed_mobile:b.settings.effect_speed;c.siblings(".mega-sub-menu").animate({height:"hide",paddingTop:"hide",paddingBottom:"hide",minHeight:"hide"},e,function(){c.siblings(".mega-sub-menu").css("display",""),c.parent().removeClass("mega-toggle-on").triggerHandler("close_panel")});return}d&&c.siblings(".mega-sub-menu").css("display","none").delay(b.settings.effect_speed).queue(function(){a(this).css("display","").dequeue()}),c.siblings(".mega-sub-menu").find(".widget_media_video video").each(function(){this.player.pause()}),c.parent().removeClass("mega-toggle-on").triggerHandler("close_panel"),b.addAnimatingClass(c.parent())},b.calculateDynamicSubmenuWidths=function(d){var g,h,e,f;d.parent().hasClass("mega-menu-megamenu")&&d.parent().parent().hasClass("max-mega-menu")&&b.settings.panel_width&&a(b.settings.panel_width).length>0&&(b.isDesktopView()?(g=c.offset(),h=a(b.settings.panel_width).offset(),d.siblings(".mega-sub-menu").css({width:a(b.settings.panel_width).outerWidth(),left:h.left-g.left+"px"})):d.siblings(".mega-sub-menu").css({width:"",left:""})),d.parent().hasClass("mega-menu-megamenu")&&d.parent().parent().hasClass("max-mega-menu")&&b.settings.panel_inner_width&&a(b.settings.panel_inner_width).length>0&&(e=0,a(b.settings.panel_inner_width).length?e=parseInt(a(b.settings.panel_inner_width).width(),10):e=parseInt(b.settings.panel_inner_width,10),f=parseInt(d.siblings(".mega-sub-menu").innerWidth(),10),b.isDesktopView()&&e>0&&e<f?d.siblings(".mega-sub-menu").css({paddingLeft:(f-e)/2+"px",paddingRight:(f-e)/2+"px"}):d.siblings(".mega-sub-menu").css({paddingLeft:"",paddingRight:""}))},b.bindClickEvents=function(){var c=!1,e;a(document).on({touchmove:function(a){c=!0},touchstart:function(a){c=!1}}),a(document).on("click touchend",function(d){!c&&b.settings.document_click==="collapse"&&!a(d.target).closest(".max-mega-menu li").length&&!a(d.target).closest(".mega-menu-toggle").length&&(b.hideAllPanels(),b.hideMobileMenu()),c=!1}),e=a("> a.mega-menu-link",d).add(g),e.on("touchend.megamenu",function(a){b.unbindHoverEvents(),b.unbindHoverIntentEvents()}),e.not("[data-has-click-event]").on("click.megamenu",function(d){if(b.isDesktopView()&&a(this).parent().hasClass("mega-toggle-on")&&a(this).parent().parent().parent().hasClass("mega-menu-tabbed")){if(b.settings.second_click==="go")return;d.preventDefault();return}if(c)return;if(b.isMobileView()&&a(this).parent().hasClass("mega-hide-sub-menu-on-mobile"))return;(b.settings.second_click==="go"||a(this).parent().hasClass("mega-click-click-go"))&&a(this).attr("href")!==void 0?a(this).parent().hasClass("mega-toggle-on")||(d.preventDefault(),b.showPanel(a(this))):(d.preventDefault(),a(this).parent().hasClass("mega-toggle-on")?b.hidePanel(a(this),!1):b.showPanel(a(this)))}),g.each(function(){a(this).attr("data-has-click-event","true")}),b.settings.second_click==="disabled"&&e.off("click.megamenu"),a(".mega-close-after-click:not(.mega-menu-item-has-children) > a.mega-menu-link",f).on("click",function(){b.hideAllPanels(),b.hideMobileMenu()})},b.bindHoverEvents=function(){d.on({"mouseenter.megamenu":function(){b.unbindClickEvents(),a(this).hasClass("mega-toggle-on")||b.showPanel(a(this).children("a.mega-menu-link"))},"mouseleave.megamenu":function(){a(this).hasClass("mega-toggle-on")&&!a(this).hasClass("mega-disable-collapse")&&!a(this).parent().parent().hasClass("mega-menu-tabbed")&&b.hidePanel(a(this).children("a.mega-menu-link"),!1)}})},b.bindHoverIntentEvents=function(){d.hoverIntent({over:function(){b.unbindClickEvents(),a(this).hasClass("mega-toggle-on")||b.showPanel(a(this).children("a.mega-menu-link"))},out:function(){a(this).hasClass("mega-toggle-on")&&!a(this).hasClass("mega-disable-collapse")&&!a(this).parent().parent().hasClass("mega-menu-tabbed")&&b.hidePanel(a(this).children("a.mega-menu-link"),!1)},timeout:b.settings.hover_intent_timeout,interval:b.settings.hover_intent_interval})},b.bindKeyboardEvents=function(){var f=9,g=27,h=13,i=37,j=39,k=32;c.parent().on("keyup.megamenu",function(a){var b=a.keyCode||a.which;b===f&&c.parent().addClass("mega-keyboard-navigation")}),c.parent().on("keydown.megamenu",function(f){var g=f.keyCode||f.which,e=a(f.target);g===k&&e.is(".mega-menu-link")&&c.parent().hasClass("mega-keyboard-navigation")&&(f.preventDefault(),e.parent().is(d)&&(e.parent().hasClass("mega-toggle-on")&&!e.parent().parent().parent().hasClass("mega-menu-tabbed")?b.hidePanel(e):b.showPanel(e)))}),c.parent().on("keyup.megamenu",function(o){var n=o.keyCode||o.which,k=a(o.target),p,l,m;n===f&&c.parent().hasClass("mega-keyboard-navigation")&&(k.parent().is(d)&&k.is("[href]")!==!1?b.showPanel(k):k.parent().parent().parent().hasClass("mega-menu-tabbed")||b.hideSiblingPanels(k)),n===g&&c.parent().hasClass("mega-keyboard-navigation")&&(p=a("> .mega-toggle-on",c).length!==0,a("> .mega-toggle-on > a.mega-menu-link",c).focus(),b.hideAllPanels(),b.isMobileView()&&!p&&(b.hideMobileMenu(),a(".mega-menu-toggle-block, button.mega-toggle-animated",e).first().focus())),n===h&&c.parent().hasClass("mega-keyboard-navigation")&&(k.hasClass("mega-menu-toggle-block")&&(e.hasClass("mega-menu-open")?b.hideMobileMenu():b.showMobileMenu()),k.parent().is(d)&&k.is("[href]")===!1&&(k.parent().hasClass("mega-toggle-on")&&!k.parent().parent().parent().hasClass("mega-menu-tabbed")?b.hidePanel(k):b.showPanel(k))),n===j&&b.isDesktopView()&&c.parent().hasClass("mega-keyboard-navigation")&&c.hasClass("mega-menu-horizontal")&&(l=a("> .mega-toggle-on",c).nextAll("li.mega-menu-item:visible").find("> a.mega-menu-link, .mega-search input[type=text]").first(),l.length===0&&(l=a(":focus",c).parent().nextAll("li.mega-menu-item:visible").find("> a.mega-menu-link, .mega-search input[type=text]").first()),l.focus(),l.parent().is(d)&&l.is("[href]")!==!1?b.showPanel(l):b.hideSiblingPanels(l)),n===i&&b.isDesktopView()&&c.parent().hasClass("mega-keyboard-navigation")&&c.hasClass("mega-menu-horizontal")&&(m=a("> .mega-toggle-on",c).prevAll("li.mega-menu-item:visible").find("> a.mega-menu-link, .mega-search input[type=text]").last(),m.length===0&&(m=a(":focus",c).parent().prevAll("li.mega-menu-item:visible").find("> a.mega-menu-link, .mega-search input[type=text]").last()),m.focus(),m.parent().is(d)&&m.is("[href]")!==!1?b.showPanel(m):b.hideSiblingPanels(m))}),c.parent().on("focusout.megamenu",function(a){c.parent().hasClass("mega-keyboard-navigation")&&setTimeout(function(){var a=c.parent().find(":focus").length>0;a||(c.parent().removeClass("mega-keyboard-navigation"),b.hideAllPanels(),b.hideMobileMenu())},10)})},b.unbindAllEvents=function(){a("ul.mega-sub-menu, li.mega-menu-item, li.mega-menu-row, li.mega-menu-column, a.mega-menu-link, span.mega-indicator",f).off().unbind()},b.unbindClickEvents=function(){a("> a.mega-menu-link",d).not(g).off("click.megamenu touchend.megamenu")},b.unbindHoverEvents=function(){d.unbind("mouseenter.megamenu mouseleave.megamenu")},b.unbindHoverIntentEvents=function(){d.unbind("mouseenter mouseleave").removeProp("hoverIntent_t").removeProp("hoverIntent_s")},b.unbindKeyboardEvents=function(){c.parent().off("keyup.megamenu keydown.megamenu focusout.megamenu")},b.unbindMegaMenuEvents=function(){b.settings.event==="hover_intent"&&b.unbindHoverIntentEvents(),b.settings.event==="hover"&&b.unbindHoverEvents(),b.unbindClickEvents(),b.unbindKeyboardEvents()},b.bindMegaMenuEvents=function(){b.unbindMegaMenuEvents(),b.isDesktopView()&&b.settings.event==="hover_intent"&&b.bindHoverIntentEvents(),b.isDesktopView()&&b.settings.event==="hover"&&b.bindHoverEvents(),b.bindClickEvents(),b.bindKeyboardEvents()},b.checkWidth=function(){b.isMobileView()&&c.data("view")==="desktop"&&b.switchToMobile(),b.isDesktopView()&&c.data("view")==="mobile"&&b.switchToDesktop(),b.calculateDynamicSubmenuWidths(a("> li.mega-menu-megamenu > a.mega-menu-link",c))},b.reverseRightAlignedItems=function(){!a("body").hasClass("rtl")&&c.hasClass("mega-menu-horizontal")&&c.append(c.children("li.mega-item-align-right").get().reverse())},b.addClearClassesToMobileItems=function(){a(".mega-menu-row",c).each(function(){a("> .mega-sub-menu > .mega-menu-column:not(.mega-hide-on-mobile)",a(this)).filter(":even").addClass("mega-menu-clear")})},b.initDesktop=function(){c.data("view","desktop"),b.bindMegaMenuEvents(),b.initIndicators()},b.switchToDesktop=function(){c.data("view","desktop"),b.bindMegaMenuEvents(),b.reverseRightAlignedItems(),b.hideAllPanels(),b.hideMobileMenu(!0)},b.initMobile=function(){b.switchToMobile()},b.switchToMobile=function(){c.data("view","mobile"),b.bindMegaMenuEvents(),b.initIndicators(),b.reverseRightAlignedItems(),b.addClearClassesToMobileItems(),b.hideAllPanels(),b.expandMobileSubMenus()},b.initToggleBar=function(){e.on("click",function(c){a(c.target).is(".mega-menu-toggle, .mega-menu-toggle-custom-block *, .mega-menu-toggle-block, .mega-menu-toggle-animated-block, .mega-menu-toggle-animated-block *, .mega-toggle-blocks-left, .mega-toggle-blocks-center, .mega-toggle-blocks-right, .mega-toggle-label, .mega-toggle-label span")&&(c.preventDefault(),a(this).hasClass("mega-menu-open")?b.hideMobileMenu():b.showMobileMenu())})},b.initIndicators=function(){a("span.mega-indicator",c).not("[data-has-click-event]").on("click.megamenu",function(c){c.preventDefault(),c.stopPropagation(),a(this).parent().parent().hasClass("mega-toggle-on")?(!a(this).parent().parent().parent().parent().hasClass("mega-menu-tabbed")||b.isMobileView())&&b.hidePanel(a(this).parent(),!1):b.showPanel(a(this).parent(),!1)}),a("span.mega-indicator",c).each(function(){a(this).attr('data-has-click-event','true')})},b.hideMobileMenu=function(d){if(d=d||!1,!e.is(":visible")&&!d)return;h=setTimeout(function(){a("body").removeClass(c.attr("id")+"-mobile-open"),a("html").removeClass(c.attr("id")+"-off-canvas-open")},b.settings.effect_speed_mobile),a(".mega-toggle-label, .mega-toggle-animated",e).attr("aria-expanded","false"),b.settings.effect_mobile==="slide"&&!d&&c.animate({height:"hide"},b.settings.effect_speed_mobile,function(){c.css({width:"",left:"",display:""})}),c.css({width:"",left:"",display:""}),e.removeClass("mega-menu-open"),c.triggerHandler("mmm:hideMobileMenu")},b.showMobileMenu=function(){if(!e.is(":visible"))return;clearTimeout(h),a("body").addClass(c.attr("id")+"-mobile-open"),b.expandMobileSubMenus(),(b.settings.effect_mobile==="slide_left"||b.settings.effect_mobile==="slide_right")&&a("html").addClass(c.attr("id")+"-off-canvas-open"),a(".mega-toggle-label, .mega-toggle-animated",e).attr("aria-expanded","true"),b.toggleBarForceWidth(),b.settings.effect_mobile==="slide"&&c.animate({height:"show"},b.settings.effect_speed_mobile),e.addClass("mega-menu-open"),c.triggerHandler("mmm:showMobileMenu")},b.toggleBarForceWidth=function(){var d,f;a(b.settings.mobile_force_width).length&&(b.settings.effect_mobile==="slide"||b.settings.effect_mobile==="disabled")&&(d=e.offset(),f=a(b.settings.mobile_force_width).offset(),c.css({width:a(b.settings.mobile_force_width).outerWidth(),left:f.left-d.left+"px"}))},b.init=function(){c.triggerHandler("before_mega_menu_init"),b.settings=a.extend({},i,j),c.removeClass("mega-no-js"),b.initToggleBar(),b.settings.unbind_events==="true"&&b.unbindAllEvents(),a(window).on("load",function(){b.calculateDynamicSubmenuWidths(a("> li.mega-menu-megamenu > a.mega-menu-link",c))}),b.isDesktopView()?b.initDesktop():b.initMobile(),a(window).resize(function(){b.checkWidth()}),c.triggerHandler("after_mega_menu_init")},b.init()},a.fn.maxmegamenu=function(b){return this.each(function(){if(void 0===a(this).data("maxmegamenu")){var c=new a.maxmegamenu(this,b);a(this).data("maxmegamenu",c)}})},a(function(){a(".max-mega-menu").maxmegamenu()})})(jQuery)